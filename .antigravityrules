# .antigravityrules

# 1. Critical Language Instruction (최우선 순위)
**[CRITICAL INSTRUCTION]**
모든 답변, 코드 설명, 오류 메시지, 작업 계획(Plan), 사고 과정(Thoughts), 태스크 요약(Task Summary), 그리고 **모든 아티팩트 문서(Artifacts - walkthrough, task, implementation plan)**는 **반드시 한국어(Korean)**로 작성되어야 합니다. 영문 아티팩트는 허용되지 않습니다. 이 규칙은 프로젝트의 최우선 순위입니다.

**[CRITICAL INSTRUCTION - SEQUENTIAL THINKING]**
복잡한 문제 해결, 코드 분석, 계획 수립, 또는 사용자의 명시적인 질문에 답변할 때는 **반드시 `sequential-thinking` 도구를 사용하여 사고 과정(Chain of Thought)을 먼저 수행**해야 합니다.
- 단순한 인사나 확인 문구를 제외한 모든 실질적인 작업 전에 이 도구를 호출하십시오.
- 코드를 작성하거나 수정하기 전에는 항상 이 도구를 통해 계획을 검증하십시오.
- 사용자의 질문에 답변하기 전에 이 도구를 통해 논리적 근거를 마련하십시오.

---

# 2. Context7 Tools Configuration
(Context7 라이브러리 검색 및 문서 조회 도구 규칙)

## Tool: resolve-library-id
**기능:**
패키지/제품 이름을 Context7 호환 라이브러리 ID로 변환하고 일치하는 목록을 반환합니다.

**필수 규칙:**
- 사용자가 쿼리에 `/org/project` 또는 `/org/project/version` 형식의 ID를 직접 제공하지 않는 한, `get-library-docs`를 호출하기 전에 **반드시 이 함수를 먼저 호출**해야 합니다.

**선택 프로세스:**
1. 쿼리를 분석하여 사용자가 찾는 라이브러리/패키지를 파악합니다.
2. 다음 기준에 따라 가장 관련성 높은 항목을 반환합니다:
   - **이름 유사성:** 정확히 일치하는 항목을 우선합니다.
   - **설명 관련성:** 쿼리의 의도와 라이브러리 설명의 연관성을 판단합니다.
   - **문서 커버리지:** 코드 스니펫(Code Snippet) 수가 많은 라이브러리를 우선합니다.
   - **출처 평판:** High/Medium 평판을 가진 라이브러리를 더 권위 있는 것으로 간주합니다.
   - **벤치마크 점수:** 100점 만점 기준의 품질 지표를 참고합니다.

**응답 형식:**
- 선택된 라이브러리 ID를 명확히 구분된 섹션에 표시합니다.
- 해당 라이브러리가 선택된 이유를 간략히 설명합니다.
- 좋은 일치 항목이 여러 개일 경우 이를 언급하되, 가장 관련성 높은 것으로 진행합니다.
- 적절한 일치 항목이 없을 경우 이를 명확히 알리고 쿼리 수정을 제안합니다.

## Tool: get-library-docs
**기능:**
특정 라이브러리에 대한 최신 문서를 가져옵니다.

**필수 규칙:**
- 사용자가 명시적인 ID를 제공하지 않았다면, **반드시 `resolve-library-id`를 먼저 호출**하여 정확한 ID를 확보한 후 사용해야 합니다.

**모드(Mode) 설정:**
- `mode='code'` (기본값): API 참조 및 코드 예제가 필요할 때 사용합니다.
- `mode='info'`: 개념적 가이드, 서술형 정보, 아키텍처 관련 질문일 때 사용합니다.

---

# 3. Sequential Thinking Tool Configuration
(동적이고 성찰적인 문제 해결을 위한 사고 도구 규칙)

## Tool: sequentialthinking
**기능:**
사고 과정(Thoughts)을 통해 문제를 동적이고 깊이 있게 분석하는 도구입니다. 이해가 깊어짐에 따라 이전의 통찰을 바탕으로 발전하거나, 의문을 제기하거나, 수정할 수 있습니다.

**사용 시점:**
- 복잡한 문제를 단계별로 분해해야 할 때
- 수정의 여지가 있는 계획 및 설계 단계
- 경로 수정이 필요할 수 있는 분석 작업
- 초기에 전체 범위를 명확히 알기 어려운 문제
- 다단계 솔루션이 필요한 문제
- 여러 단계에 걸쳐 컨텍스트를 유지해야 하는 작업
- 불필요한 정보를 필터링해야 하는 상황

**주요 특징:**
- 진행 상황에 따라 총 사고 횟수(`total_thoughts`)를 늘리거나 줄일 수 있습니다.
- 이전 사고를 의심하거나 수정할 수 있습니다.
- 결론에 도달한 것처럼 보여도 더 깊은 사고를 추가할 수 있습니다.
- 불확실성을 표현하고 대안적인 접근 방식을 탐색할 수 있습니다.
- 사고는 선형적일 필요가 없으며, 분기(branch)하거나 되돌아갈(backtrack) 수 있습니다.
- 솔루션 가설을 생성하고, 사고 단계(Chain of Thought)에 따라 이를 검증합니다.
- 만족스러울 때까지 이 과정을 반복합니다.

**파라미터 설명 (Parameters):**
- `thought`: 현재 사고 단계의 내용. (분석, 수정, 의문, 깨달음, 접근 방식 변경, 가설 생성/검증 포함)
- `nextThoughtNeeded`: 더 많은 사고가 필요한 경우 `True`. (끝난 것 같아도 필요하면 True 설정)
- `thoughtNumber`: 현재 사고 순번. (필요시 초기 총 횟수를 초과할 수 있음)
- `totalThoughts`: 필요한 사고 횟수의 현재 추정치. (상향/하향 조정 가능)
- `isRevision`: 이 사고가 이전 내용을 수정하는지 여부 (`Boolean`).
- `revisesThought`: 수정하는 경우, 재고하고 있는 사고의 번호.
- `branchFromThought`: 분기하는 경우, 분기점이 되는 사고의 번호.
- `branchId`: 현재 분기의 식별자.
- `needsMoreThoughts`: 끝에 도달했으나 더 많은 사고가 필요함을 깨달았을 때 사용.

**행동 지침:**
1. 필요한 사고 횟수의 초기 추정치로 시작하되, 언제든 조정할 준비를 하십시오.
2. 이전 사고에 대해 자유롭게 의문을 제기하거나 수정하십시오.
3. 필요하다면 "끝"이라고 생각되는 지점에서도 주저 없이 사고를 추가하십시오.
4. 불확실성이 존재할 때는 이를 명확히 표현하십시오.
5. 이전 사고를 수정하거나 새로운 경로로 분기하는 경우 이를 표시하십시오.
6. 현재 단계와 관련 없는 정보는 무시하십시오.
7. 적절한 시점에 솔루션 가설을 생성하십시오.
8. 사고의 흐름(Chain of Thought)에 따라 가설을 검증하십시오.
9. 솔루션에 만족할 때까지 과정을 반복하십시오.
10. 최종 출력으로 **단 하나의 정답(ideally correct answer)**을 제공하십시오.
11. 진정으로 완료되었고 만족스러운 답변에 도달했을 때만 `next_thought_needed`를 `false`로 설정하십시오.